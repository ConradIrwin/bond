<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: Bond::MethodMission</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (M)</a> &raquo; 
    <span class='title'><a href="../Bond.html" title="Bond (module)">Bond</a></span>
     &raquo; 
    <span class="title">MethodMission</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Bond::MethodMission
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><a href="Mission.html" title="Bond::Mission (class)">Mission</a></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><a href="Mission.html" title="Bond::Mission (class)">Mission</a></li>
          
            <li class="next">Bond::MethodMission</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/bond/missions/method_mission.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
A mission which completes arguments for any module/class method that
isn&#8217;t an operator method. To create this mission or
OperatorMethodMission, :method or :methods must be passed to Bond.complete.
A completion for a given module/class effects any object that has it as an
ancestor. If an object has two ancestors that have completions for the same
method, the ancestor closer to the object is picked. For example, if
Array#collect and Enumerable#collect have completions, argument completion
on &#8217;[].collect &#8217; would use Array#collect.
</p>
<h4>Bond.complete Options:</h4>
<dl>
<dt>:action</dt><dd><p>
If a string, value is assumed to be a :method and that method&#8217;s
action is copied. Otherwise defaults to normal :action behavior.
</p>
</dd>
<dt>:search</dt><dd><p>
If :action is a :method string, defaults to copying its search. Otherwise
defaults to normal :search behavior.
</p>
</dd>
<dt>:name, :place</dt><dd><p>
These options aren&#8217;t supported by a
MethodMission/OperatorMethodMission completion.
</p>
</dd>
</dl>
<h4>Examples:</h4>
<pre class="code">
  <span class='Bond constant id'>Bond</span><span class='dot token'>.</span><span class='complete identifier id'>complete</span><span class='lparen token'>(</span><span class='symbol val'>:methods=</span><span class='gt op'>&gt;</span><span class='dstring node'>%w{delete index rindex}</span><span class='comma token'>,</span> <span class='symbol val'>:class</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Array#&quot;</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='object identifier id'>object</span> <span class='rbrace token'>}</span>
  <span class='Bond constant id'>Bond</span><span class='dot token'>.</span><span class='complete identifier id'>complete</span><span class='lparen token'>(</span><span class='symbol val'>:method=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Hash#index&quot;</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='object identifier id'>object</span><span class='dot token'>.</span><span class='values identifier id'>values</span> <span class='rbrace token'>}</span>
</pre>
<h4>Argument Format</h4>
<p>
All method arguments can autocomplete as symbols or strings and the first
argument can be prefixed with &#8217;(&#8217;:
</p>
<pre class="code">
  <span class='rshft op'>&gt;&gt;</span> <span class='Bond constant id'>Bond</span><span class='dot token'>.</span><span class='complete identifier id'>complete</span><span class='lparen token'>(</span><span class='symbol val'>:method=</span><span class='gt op'>&gt;</span><span class='string val'>'example'</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='dstring node'>%w{some example eh}</span> <span class='rbrace token'>}</span>
  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span>
  <span class='rshft op'>&gt;&gt;</span> <span class='example identifier id'>example</span> <span class='string val'>'[TAB]
  eh    example    some
  &gt;&gt; example :[TAB]
  :eh   :example   :some

 &gt;&gt; example(&quot;[TAB]
  eh    example    some
</span></pre>
<h4>Multiple Arguments</h4>
<p>
Every time a comma appears after a method, Bond starts a new completion.
This allows a method to complete multiple arguments as well as complete
keys for a hash. <b>Each</b> argument can be have a unique set of
completions since a completion action is aware of what argument it is
currently completing:
</p>
<pre class="code">
  <span class='rshft op'>&gt;&gt;</span> <span class='Bond constant id'>Bond</span><span class='dot token'>.</span><span class='complete identifier id'>complete</span><span class='lparen token'>(</span><span class='symbol val'>:method=</span><span class='gt op'>&gt;</span><span class='string val'>'FileUtils.chown'</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span>
       <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='argument identifier id'>argument</span> <span class='gt op'>&gt;</span> <span class='integer val'>3</span> <span class='question op'>?</span> <span class='dstring node'>%w{noop verbose}</span> <span class='colon op'>:</span> <span class='dstring node'>%w{root admin me}</span> <span class='rbrace token'>}</span>
  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span>
  <span class='rshft op'>&gt;&gt;</span> <span class='FileUtils constant id'>FileUtils</span><span class='dot token'>.</span><span class='chown identifier id'>chown</span> <span class='string val'>'r[TAB]
  &gt;&gt; FileUtils.chown '</span><span class='root identifier id'>root</span><span class='string val'>'
  &gt;&gt; FileUtils.chown '</span><span class='root identifier id'>root</span><span class='string val'>', '</span><span class='a identifier id'>a</span><span class='lbrack token'>[</span><span class='TAB constant id'>TAB</span><span class='rbrack token'>]</span>
  <span class='rshft op'>&gt;&gt;</span> <span class='FileUtils constant id'>FileUtils</span><span class='dot token'>.</span><span class='chown identifier id'>chown</span> <span class='string val'>'root'</span><span class='comma token'>,</span> <span class='string val'>'admin'</span>
  <span class='rshft op'>&gt;&gt;</span> <span class='FileUtils constant id'>FileUtils</span><span class='dot token'>.</span><span class='chown identifier id'>chown</span> <span class='string val'>'root'</span><span class='comma token'>,</span> <span class='string val'>'admin'</span><span class='comma token'>,</span> <span class='string val'>'some_file'</span><span class='comma token'>,</span> <span class='symbol val'>:v</span><span class='lbrack token'>[</span><span class='TAB constant id'>TAB</span><span class='rbrack token'>]</span>
  <span class='rshft op'>&gt;&gt;</span> <span class='FileUtils constant id'>FileUtils</span><span class='dot token'>.</span><span class='chown identifier id'>chown</span> <span class='string val'>'root'</span><span class='comma token'>,</span> <span class='string val'>'admin'</span><span class='comma token'>,</span> <span class='string val'>'some_file'</span><span class='comma token'>,</span> <span class='symbol val'>:verbose</span>
  <span class='rshft op'>&gt;&gt;</span> <span class='FileUtils constant id'>FileUtils</span><span class='dot token'>.</span><span class='chown identifier id'>chown</span> <span class='string val'>'root'</span><span class='comma token'>,</span> <span class='string val'>'admin'</span><span class='comma token'>,</span> <span class='string val'>'some_file'</span><span class='comma token'>,</span> <span class='symbol val'>:verbose=</span><span class='gt op'>&gt;</span><span class='true true kw'>true</span>
</pre>
<h4>Developer Notes</h4>
<p>
Unlike other missions, creating these missions with Bond.complete
doesn&#8217;t add more completion rules for an Agent to look through.
Instead, all :method(s) completions are handled by one MethodMission object
which looks them up with its own hashes. In the same way, all operator
methods are handled by one OperatorMethodMission object.
</p>


  </div>
</div>
<div class="tags">
  
</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><a href="OperatorMethodMission.html" title="Bond::OperatorMethodMission (class)">OperatorMethodMission</a></p>
</div>

  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="OBJECTS-constant" class="">OBJECTS =
          
        </dt>
        <dd><pre class="code"><span class='Mission constant id'>Mission</span><span class='colon2 op'>::</span><span class='OBJECTS constant id'>OBJECTS</span> <span class='plus op'>+</span> <span class='dstring node'>%w{\S*?}</span>
</pre></dd>
      
        <dt id="CONDITION-constant" class="">CONDITION =
          
        </dt>
        <dd><pre class="code"><span class='string val'>%q{(OBJECTS)\.?(METHODS)(?:\s+|\()(['&quot;:])?(.*)$}</span>
</pre></dd>
      
    </dl>
  


  
  
  
  
  <h3 class="inherited">Constants inherited from <a href="Mission.html" title="Bond::Mission (class)">Mission</a></h3>
  <p class="inherited"><a href="Mission.html#OBJECTS-constant" title="Bond::Mission::OBJECTS (constant)">OBJECTS</a>, <a href="Mission.html#OPERATORS-constant" title="Bond::Mission::OPERATORS (constant)">OPERATORS</a></p>

  <h2>Class Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#actions-class_method" title="actions (class method)">+ (Object) <strong>actions</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Hash of instance method completions which maps methods to hashes of modules
to arrays ([action, search]).
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#class_actions-class_method" title="class_actions (class method)">+ (Object) <strong>class_actions</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Same as :actions but for class methods.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#last_class-class_method" title="last_class (class method)">+ (Object) <strong>last_class</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Stores class from last search in MethodMission.find.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#last_find-class_method" title="last_find (class method)">+ (Object) <strong>last_find</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Stores last search result from MethodMission.find.
</p>
</div></span>
  
</li>

    
  </ul>


  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#action_methods-class_method" title="action_methods (class method)">+ (Object) <strong>action_methods</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Lists method names.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#all_methods-class_method" title="all_methods (class method)">+ (Object) <strong>all_methods</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Lists full method names, prefixed with class/module.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#any_const_get-class_method" title="any_const_get (class method)">+ (Object) <strong>any_const_get</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns a constant like Module#const_get no matter what namespace
it&#8217;s nested in.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create-class_method" title="create (class method)">+ (Object) <strong>create</strong>(options) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Creates a method action given the same options as Bond.complete.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find-class_method" title="find (class method)">+ (Object) <strong>find</strong>(obj, meth) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the first completion by looking up the object&#8217;s ancestors and
finding the closest one that has a completion definition for the given
method.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reset-class_method" title="reset (class method)">+ (Object) <strong>reset</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Resets all instance and class method actions.
</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <a href="Mission.html" title="Bond::Mission (class)">Mission</a></h3>
  <p class="inherited"><a href="Mission.html#call_action-instance_method" title="Bond::Mission#call_action (method)">#call_action</a>, <a href="Mission.html#call_search-instance_method" title="Bond::Mission#call_search (method)">#call_search</a>, <a href="Mission.html#condition-instance_method" title="Bond::Mission#condition (method)">#condition</a>, <a href="Mission.html#current_eval-class_method" title="Bond::Mission.current_eval (method)">current_eval</a>, <a href="Mission.html#execute-instance_method" title="Bond::Mission#execute (method)">#execute</a>, <a href="Mission.html#initialize-instance_method" title="Bond::Mission#initialize (method)">#initialize</a>, <a href="Mission.html#matches%3F-instance_method" title="Bond::Mission#matches? (method)">#matches?</a>, <a href="Mission.html#name-instance_method" title="Bond::Mission#name (method)">#name</a></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <p class="notice">This class inherits a constructor from <a href="Mission.html#initialize-instance_method" title="Bond::Mission#initialize (method)">Bond::Mission</a></p>
  
</div>

  <div id="class_attr_details" class="attr_details">
    <h2>Class Attribute Details</h2>
    
      
      <span id="actions=-class_method"></span>
      <span id="actions-class_method"></span>
      <div class="method_details first">
  <p class="signature first" id="actions-class_method">
  
    + (<tt>Object</tt>) <strong>actions</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Hash of instance method completions which maps methods to hashes of modules
to arrays ([action, search])
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


55
56
57</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bond/missions/method_mission.rb', line 55</span>

<span class='def def kw'>def</span> <span class='actions identifier id'>actions</span>
  <span class='@actions ivar id'>@actions</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="class_actions=-class_method"></span>
      <span id="class_actions-class_method"></span>
      <div class="method_details ">
  <p class="signature " id="class_actions-class_method">
  
    + (<tt>Object</tt>) <strong>class_actions</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Same as :actions but for class methods
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


57
58
59</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bond/missions/method_mission.rb', line 57</span>

<span class='def def kw'>def</span> <span class='class_actions identifier id'>class_actions</span>
  <span class='@class_actions ivar id'>@class_actions</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="last_class=-class_method"></span>
      <span id="last_class-class_method"></span>
      <div class="method_details ">
  <p class="signature " id="last_class-class_method">
  
    + (<tt>Object</tt>) <strong>last_class</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Stores class from last search in MethodMission.find
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


61
62
63</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bond/missions/method_mission.rb', line 61</span>

<span class='def def kw'>def</span> <span class='last_class identifier id'>last_class</span>
  <span class='@last_class ivar id'>@last_class</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="last_find=-class_method"></span>
      <span id="last_find-class_method"></span>
      <div class="method_details ">
  <p class="signature " id="last_find-class_method">
  
    + (<tt>Object</tt>) <strong>last_find</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Stores last search result from MethodMission.find
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


59
60
61</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bond/missions/method_mission.rb', line 59</span>

<span class='def def kw'>def</span> <span class='last_find identifier id'>last_find</span>
  <span class='@last_find ivar id'>@last_find</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="action_methods-class_method">
  
    + (<tt>Object</tt>) <strong>action_methods</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Lists method names
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


96
97
98</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bond/missions/method_mission.rb', line 96</span>

<span class='def def kw'>def</span> <span class='action_methods identifier id'>action_methods</span>
  <span class='lparen token'>(</span><span class='actions identifier id'>actions</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span> <span class='plus op'>+</span> <span class='class_actions identifier id'>class_actions</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='uniq identifier id'>uniq</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="all_methods-class_method">
  
    + (<tt>Object</tt>) <strong>all_methods</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Lists full method names, prefixed with class/module
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


101
102
103
104</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bond/missions/method_mission.rb', line 101</span>

<span class='def def kw'>def</span> <span class='all_methods identifier id'>all_methods</span>
  <span class='lparen token'>(</span><span class='class_actions identifier id'>class_actions</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='m identifier id'>m</span><span class='comma token'>,</span><span class='h identifier id'>h</span><span class='bitor op'>|</span> <span class='h identifier id'>h</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='dstring node'>&quot;#{k}.#{m}&quot;</span> <span class='rbrace token'>}</span> <span class='rbrace token'>}</span> <span class='plus op'>+</span>
    <span class='actions identifier id'>actions</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='m identifier id'>m</span><span class='comma token'>,</span><span class='h identifier id'>h</span><span class='bitor op'>|</span> <span class='h identifier id'>h</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='dstring node'>&quot;#{k}##{m}&quot;</span> <span class='rbrace token'>}</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='dot token'>.</span><span class='sort identifier id'>sort</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="any_const_get-class_method">
  
    + (<tt>Object</tt>) <strong>any_const_get</strong>(name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns a constant like Module#const_get no matter what namespace
it&#8217;s nested in. Returns nil if the constant is not found.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


118
119
120
121
122
123
124
125</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bond/missions/method_mission.rb', line 118</span>

<span class='def def kw'>def</span> <span class='any_const_get identifier id'>any_const_get</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='name identifier id'>name</span> <span class='if if_mod kw'>if</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Module constant id'>Module</span><span class='rparen token'>)</span>
  <span class='klass identifier id'>klass</span> <span class='assign token'>=</span> <span class='Object constant id'>Object</span>
  <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>'::'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='klass identifier id'>klass</span> <span class='assign token'>=</span> <span class='klass identifier id'>klass</span><span class='dot token'>.</span><span class='const_get identifier id'>const_get</span><span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='klass identifier id'>klass</span>
<span class='rescue rescue kw'>rescue</span>
   <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="create-class_method">
  
    + (<tt>Object</tt>) <strong>create</strong>(options) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Creates a method action given the same options as Bond.complete
</p>


  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'>(<tt><a href="InvalidMissionError.html" title="Bond::InvalidMissionError (class)">InvalidMissionError</a></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bond/missions/method_mission.rb', line 64</span>

<span class='def def kw'>def</span> <span class='create identifier id'>create</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:action</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='String constant id'>String</span><span class='rparen token'>)</span>
    <span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='klass_meth identifier id'>klass_meth</span> <span class='assign token'>=</span> <span class='split_method identifier id'>split_method</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:action</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='arr identifier id'>arr</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='current_actions identifier id'>current_actions</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:action</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='klass_meth identifier id'>klass_meth</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='klass identifier id'>klass</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
      <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:action</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:search</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='arr identifier id'>arr</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:search</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='arr identifier id'>arr</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span>
    <span class='else else kw'>else</span>
      <span class='raise identifier id'>raise</span> <span class='InvalidMissionError constant id'>InvalidMissionError</span><span class='comma token'>,</span> <span class='string val'>&quot;string :action&quot;</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='raise identifier id'>raise</span> <span class='InvalidMissionError constant id'>InvalidMissionError</span><span class='comma token'>,</span> <span class='string val'>&quot;array :method&quot;</span> <span class='if if_mod kw'>if</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:method</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Array constant id'>Array</span><span class='rparen token'>)</span>
  <span class='meths identifier id'>meths</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:methods</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='Array constant id'>Array</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:method</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='InvalidMissionError constant id'>InvalidMissionError</span><span class='comma token'>,</span> <span class='string val'>&quot;non-string :method(s)&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='meths identifier id'>meths</span><span class='dot token'>.</span><span class='all? fid id'>all?</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='String constant id'>String</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='if if kw'>if</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:class</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='String constant id'>String</span><span class='rparen token'>)</span>
    <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:class</span><span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>'#'</span> <span class='unless unless_mod kw'>unless</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:class</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='regexp val'>/[#.]$/</span><span class='rbrack token'>]</span>
    <span class='meths identifier id'>meths</span><span class='dot token'>.</span><span class='map! fid id'>map!</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:class</span><span class='rbrack token'>]</span> <span class='plus op'>+</span> <span class='e identifier id'>e</span> <span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>

  <span class='meths identifier id'>meths</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='meth identifier id'>meth</span><span class='bitor op'>|</span>
    <span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='klass_meth identifier id'>klass_meth</span> <span class='assign token'>=</span> <span class='split_method identifier id'>split_method</span><span class='lparen token'>(</span><span class='meth identifier id'>meth</span><span class='rparen token'>)</span>
    <span class='lparen token'>(</span><span class='current_actions identifier id'>current_actions</span><span class='lparen token'>(</span><span class='meth identifier id'>meth</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='klass_meth identifier id'>klass_meth</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='klass identifier id'>klass</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:action</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:search</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='compact identifier id'>compact</span>
  <span class='rbrace token'>}</span>
  <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="find-class_method">
  
    + (<tt>Object</tt>) <strong>find</strong>(obj, meth) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the first completion by looking up the object&#8217;s ancestors and
finding the closest one that has a completion definition for the given
method. Completion is returned as an array containing action proc and
optional search to go with it.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


109
110
111
112
113
114</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bond/missions/method_mission.rb', line 109</span>

<span class='def def kw'>def</span> <span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='comma token'>,</span> <span class='meth identifier id'>meth</span><span class='rparen token'>)</span>
  <span class='last_find identifier id'>last_find</span> <span class='assign token'>=</span> <span class='find_with identifier id'>find_with</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='comma token'>,</span> <span class='meth identifier id'>meth</span><span class='comma token'>,</span> <span class='symbol val'>:&lt;=</span><span class='comma token'>,</span> <span class='@class_actions ivar id'>@class_actions</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Module constant id'>Module</span><span class='rparen token'>)</span>
  <span class='last_find identifier id'>last_find</span> <span class='assign token'>=</span> <span class='find_with identifier id'>find_with</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='comma token'>,</span> <span class='meth identifier id'>meth</span><span class='comma token'>,</span> <span class='symbol val'>:is_a?</span><span class='comma token'>,</span> <span class='@actions ivar id'>@actions</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='last_find identifier id'>last_find</span>
  <span class='@last_class ivar id'>@last_class</span> <span class='assign token'>=</span> <span class='last_find identifier id'>last_find</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Array constant id'>Array</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='last_find identifier id'>last_find</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='colon op'>:</span> <span class='nil nil kw'>nil</span>
  <span class='@last_find ivar id'>@last_find</span> <span class='assign token'>=</span> <span class='last_find identifier id'>last_find</span> <span class='integer val'>? </span><span class='last_find identifier id'>last_find</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='colon op'>:</span> <span class='last_find identifier id'>last_find</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="reset-class_method">
  
    + (<tt>Object</tt>) <strong>reset</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Resets all instance and class method actions.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


90
91
92
93</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bond/missions/method_mission.rb', line 90</span>

<span class='def def kw'>def</span> <span class='reset identifier id'>reset</span>
  <span class='@actions ivar id'>@actions</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='@class_actions ivar id'>@class_actions</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Sat Jul 17 07:21:11 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>
  0.5.8 (ruby-1.8.7).
</div>

  </body>
</html>